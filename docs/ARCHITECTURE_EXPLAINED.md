# ì•„í‚¤í…ì²˜ í° ê·¸ë¦¼ ì´í•´í•˜ê¸°

**ëª©í‘œ**: ì´ˆê¸‰ìë„ ì´í•´í•  ìˆ˜ ìˆëŠ” ì „ì²´ êµ¬ì¡° ì„¤ëª…
**ë°©ì‹**: ë¹„ìœ  + ê·¸ë¦¼ + ì‹¤ì œ íë¦„

---

## ğŸ¢ ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°: ì•„íŒŒíŠ¸ ë‹¨ì§€

í˜„ì¬ ì¸í”„ë¼ë¥¼ **ì•„íŒŒíŠ¸ ë‹¨ì§€**ì— ë¹„ìœ í•˜ë©´:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VPC (ì•„íŒŒíŠ¸ ë‹¨ì§€)                      â”‚
â”‚                  "feedback-vpc"                          â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         1ì¸µ (Public Subnet - ë¡œë¹„/ì…êµ¬)          â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚    ğŸšª ì •ë¬¸ (Internet Gateway)                   â”‚  â”‚
â”‚  â”‚          â†“                                        â”‚  â”‚
â”‚  â”‚    ğŸ‘® ê²½ë¹„ì‹¤ (ALB)                               â”‚  â”‚
â”‚  â”‚    - ë°©ë¬¸ê° ì‹ ì› í™•ì¸                            â”‚  â”‚
â”‚  â”‚    - ì–´ëŠ ê±´ë¬¼ë¡œ ê°ˆì§€ ì•ˆë‚´                        â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚  [Public-AZ-A]     [Public-AZ-C]                â”‚  â”‚
â”‚  â”‚   (ë™ìª½ ë¡œë¹„)        (ì„œìª½ ë¡œë¹„)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      ì§€í•˜ì¸µ (Private Subnet - ê±°ì£¼ ê³µê°„)         â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚    ğŸ  ì•„íŒŒíŠ¸ë“¤ (API Servers)                     â”‚  â”‚
â”‚  â”‚    - ì‹¤ì œ ì‚¬ëŒë“¤ì´ ì‚¬ëŠ” ê³³                        â”‚  â”‚
â”‚  â”‚    - ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€                      â”‚  â”‚
â”‚  â”‚    - ë¡œë¹„(ALB)ë¥¼ í†µí•´ì„œë§Œ ë“¤ì–´ì˜¬ ìˆ˜ ìˆìŒ          â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚    ğŸ’¾ ê´€ë¦¬ì‹¤ (MySQL Server)                      â”‚  â”‚
â”‚  â”‚    - ì•„íŒŒíŠ¸ ê´€ë¦¬ ë°ì´í„° ë³´ê´€                      â”‚  â”‚
â”‚  â”‚    - ì£¼ë¯¼ë“¤ë§Œ ì ‘ê·¼ ê°€ëŠ¥                          â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚    ğŸ“¹ CCTV ê´€ì œì‹¤ (Monitoring Server)           â”‚  â”‚
â”‚  â”‚    - ì•„íŒŒíŠ¸ ìƒíƒœ ëª¨ë‹ˆí„°ë§                        â”‚  â”‚
â”‚  â”‚    - ì´ìƒ ì§•í›„ ê°ì‹œ                              â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚  [Private-AZ-A]                                  â”‚  â”‚
â”‚  â”‚   (ì§€í•˜ ê±°ì£¼ ê³µê°„)                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì™¸ë¶€ ì¸í„°ë„· (ë°©ë¬¸ê°ë“¤)
      â†“
  ì •ë¬¸ (IGW) â†’ ê²½ë¹„ì‹¤ (ALB) â†’ ì•„íŒŒíŠ¸ (API) â†’ ê´€ë¦¬ì‹¤ (DB)
                                     â†“
                              CCTV (Monitoring)
```

---

## ğŸŒ VPCë€? (Virtual Private Cloud)

### ê°„ë‹¨ ë¹„ìœ 
```
VPC = ìš¸íƒ€ë¦¬ë¡œ ë‘˜ëŸ¬ì‹¸ì¸ ë‹¹ì‹ ë§Œì˜ ë•…

ì¸í„°ë„· (ê³µê³µ ë„ë¡œ)
    â†“
  [ìš¸íƒ€ë¦¬] â† VPC ê²½ê³„
    â†“
  ë‹¹ì‹ ì˜ ë•… (10.0.0.0/16)
  - ë‹¹ì‹ ì´ ê·œì¹™ì„ ì •í•¨
  - ëˆ„ê°€ ë“¤ì–´ì˜¬ì§€ ê²°ì •
  - ë‚´ë¶€ êµ¬ì¡° ììœ ë¡­ê²Œ ì„¤ê³„
```

### ì‹¤ì œ ì˜ë¯¸
```yaml
VPC (feedback-vpc):
  IP ë²”ìœ„: 10.0.0.0/16

  ì˜ë¯¸:
    - 10.0.0.0 ~ 10.0.255.255 ê¹Œì§€ 65,536ê°œ IP ì£¼ì†Œ ì‚¬ìš© ê°€ëŠ¥
    - ì´ ë²”ìœ„ ì•ˆì—ì„œ ë‚´ê°€ ë§ˆìŒëŒ€ë¡œ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±
    - ì™¸ë¶€(ì¸í„°ë„·)ì™€ ì™„ì „íˆ ê²©ë¦¬
    - ë‚´ê°€ í—ˆìš©í•œ íŠ¸ë˜í”½ë§Œ í†µê³¼
```

---

## ğŸ˜ï¸ Subnetì´ë€? (ë•…ì„ êµ¬ì—­ìœ¼ë¡œ ë‚˜ëˆ„ê¸°)

### ë¹„ìœ 
```
VPC (ì „ì²´ ë•…) = 10.0.0.0/16

ì´ê±¸ ìš©ë„ë³„ë¡œ ë‚˜ëˆ”:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ì „ì²´ ë•… (VPC)                â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ìƒê°€ êµ¬ì—­  â”‚  â”‚ ìƒê°€ êµ¬ì—­  â”‚    â”‚  Public Subnet Ã— 2
â”‚  â”‚ (ë¡œë¹„)     â”‚  â”‚ (ë¡œë¹„)     â”‚    â”‚  (ì™¸ë¶€ ì ‘ê·¼ ê°€ëŠ¥)
â”‚  â”‚ Public-A   â”‚  â”‚ Public-C   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       ì£¼ê±° êµ¬ì—­               â”‚  â”‚  Private Subnet Ã— 1
â”‚  â”‚    (ì•„íŒŒíŠ¸, ê´€ë¦¬ì‹¤, CCTV)     â”‚  â”‚  (ì™¸ë¶€ ì ‘ê·¼ ë¶ˆê°€)
â”‚  â”‚       Private-A               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹¤ì œ êµ¬ì„±
```yaml
Public Subnet Ã— 2:
  Public-AZ-A: 10.0.1.0/24    (256ê°œ IP)
    - ap-northeast-2a (ì„œìš¸ A ë°ì´í„°ì„¼í„°)
    - ìš©ë„: ALB (ë¡œë“œ ë°¸ëŸ°ì„œ)

  Public-AZ-C: 10.0.2.0/24    (256ê°œ IP)
    - ap-northeast-2c (ì„œìš¸ C ë°ì´í„°ì„¼í„°)
    - ìš©ë„: ALB (ë¡œë“œ ë°¸ëŸ°ì„œ)

Private Subnet Ã— 1:
  Private-AZ-A: 10.0.11.0/24  (256ê°œ IP)
    - ap-northeast-2a (ì„œìš¸ A ë°ì´í„°ì„¼í„°)
    - ìš©ë„: API Servers, MySQL, Monitoring
```

---

## ğŸ¤” ì™œ ì´ë ‡ê²Œ ì„¤ê³„í–ˆë‚˜?

### Q1: ì™œ Public Subnetì´ 2ê°œì¸ê°€?

**ë‹µ**: ALBê°€ ìµœì†Œ 2ê°œ AZ(ë°ì´í„°ì„¼í„°)ì— ìˆì–´ì•¼ í•¨

```
ì´ìœ :
  í•œìª½ ë°ì´í„°ì„¼í„°ê°€ ê³ ì¥ë‚˜ë„ ì„œë¹„ìŠ¤ ê³„ì†ë¨

ì˜ˆì‹œ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚     ALB (ê²½ë¹„ì‹¤)                     â”‚
  â”‚                                      â”‚
  â”‚  [Public-AZ-A]    [Public-AZ-C]    â”‚
  â”‚   (ë™ìª½ ë¡œë¹„) âœ…    (ì„œìª½ ë¡œë¹„) âœ…    â”‚
  â”‚                                      â”‚
  â”‚  A ë°ì´í„°ì„¼í„° ê³ ì¥ ë‚˜ë„ â†’             â”‚
  â”‚  C ë°ì´í„°ì„¼í„°ê°€ ì‚´ì•„ìˆì–´ì„œ ì„œë¹„ìŠ¤ ê³„ì† â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AWS ê·œì¹™:
  - ALBëŠ” ìµœì†Œ 2ê°œ AZì— ë°°ì¹˜ í•„ìˆ˜
  - ê³ ê°€ìš©ì„± (High Availability)
```

**ë§Œì•½ Public Subnetì´ 1ê°œì˜€ë‹¤ë©´?**
```
âŒ ALB ìƒì„± ë¶ˆê°€!
AWS: "Error: ALB requires subnets in at least 2 AZs"
```

### Q2: ì™œ Private Subnetì´ 1ê°œì¸ê°€?

**ë‹µ**: 15ì‹œê°„ ì•ˆì— êµ¬ì¶•í•˜ê¸° ìœ„í•œ ê°„ì†Œí™”

```
ì´ìƒì ì¸ êµ¬ì„± (4-6ì£¼ í”„ë¡œì íŠ¸):
  Private-AZ-A: API Servers
  Private-AZ-C: API Servers
  Private-AZ-A: Database, Monitoring
  Private-AZ-C: Database, Monitoring (Replica)

í˜„ì‹¤ì ì¸ êµ¬ì„± (15ì‹œê°„ í”„ë¡œì íŠ¸):
  Private-AZ-A: API Servers + DB + Monitoring ëª¨ë‘

ì´ìœ :
  âœ… ì‹œê°„ ì ˆì•½ (ì„¤ì • ì‹œê°„ 50% ê°ì†Œ)
  âœ… ì´ˆê¸‰ì ì¹œí™”ì  (ë³µì¡ë„ ë‚®ìŒ)
  âœ… ë™ì‘ì€ í•¨ (ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ)

ë‹¨ì :
  âš ï¸ Private-AZ-Aê°€ í†µì§¸ë¡œ ê³ ì¥ë‚˜ë©´ ì„œë¹„ìŠ¤ ì¤‘ë‹¨
  âš ï¸ í•˜ì§€ë§Œ ALBê°€ Multi-AZë¼ì„œ ì–´ëŠ ì •ë„ ë³´í˜¸ë¨
```

**ë‚˜ì¤‘ì— ê°œì„ í•  ë•Œ**:
```
Private-AZ-C ì¶”ê°€:
  - API Serverë¥¼ AZ-Cì—ë„ ë°°ì¹˜
  - MySQL Replica ì¶”ê°€ (ë˜ëŠ” RDS Multi-AZ)

â†’ ì™„ë²½í•œ ê³ ê°€ìš©ì„±
```

### Q3: ê° Subnetì˜ ì—­í• ì€?

#### Public Subnet (ë¡œë¹„)
```yaml
ì—­í• :
  - ì¸í„°ë„·ê³¼ ì§ì ‘ í†µì‹ í•˜ëŠ” êµ¬ì—­
  - ALB (ë¡œë“œ ë°¸ëŸ°ì„œ) ë°°ì¹˜
  - ì™¸ë¶€ ìš”ì²­ì„ ë°›ì•„ì„œ Privateìœ¼ë¡œ ì „ë‹¬

íŠ¹ì§•:
  âœ… Internet Gateway ì—°ê²°ë¨
  âœ… Public IP ê°€ì§
  âœ… ì¸í„°ë„·ì—ì„œ ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥

ëˆ„ê°€ ì‚¬ìš©:
  - ALBë§Œ (ë‹¤ë¥¸ ê±´ ì—¬ê¸° ë‘ë©´ ì•ˆë¨!)
```

#### Private Subnet (ê±°ì£¼ ê³µê°„)
```yaml
ì—­í• :
  - ì‹¤ì œ ì„œë¹„ìŠ¤ê°€ ëŒì•„ê°€ëŠ” êµ¬ì—­
  - ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€
  - ALBë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥

íŠ¹ì§•:
  âœ… NAT Gatewayë¥¼ í†µí•´ ì™¸ë¶€ë¡œ ë‚˜ê°ˆ ìˆ˜ëŠ” ìˆìŒ
     (íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ, S3 ì—…ë¡œë“œ ë“±)
  âŒ ì™¸ë¶€ì—ì„œ ì§ì ‘ ë“¤ì–´ì˜¬ ìˆ˜ëŠ” ì—†ìŒ
  âŒ Public IP ì—†ìŒ

ëˆ„ê°€ ì‚¬ìš©:
  - API Servers (Auto Scaling)
  - MySQL Server
  - Monitoring Server
```

---

## ğŸŒŠ ì „ì²´ ìš”ì²­ íë¦„

### ì‚¬ìš©ìê°€ API í˜¸ì¶œí•  ë•Œ

```
1ë‹¨ê³„: ì¸í„°ë„· â†’ VPC ì…êµ¬
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì‚¬ìš©ì
  â”‚ curl http://my-alb.elb.amazonaws.com/api/feedbacks
  â†“
Internet Gateway (ì •ë¬¸)
  â”‚ "ì´ ìš”ì²­ì„ VPC ì•ˆìœ¼ë¡œ ë“¤ì—¬ë³´ë‚¼ê¹Œ? OK!"
  â†“
VPC ê²½ê³„ í†µê³¼


2ë‹¨ê³„: Public Subnet (ë¡œë¹„)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ALB (ê²½ë¹„ì‹¤) @ Public-AZ-A or Public-AZ-C
  â”‚ "ì–´ëŠ API ì„œë²„ë¡œ ë³´ë‚¼ê¹Œ?"
  â”‚ Health check: ì„œë²„1 âœ…, ì„œë²„2 âœ…
  â”‚ â†’ ì„œë²„1ë¡œ ë³´ë‚´ì (Round Robin)
  â†“


3ë‹¨ê³„: Private Subnet (ì•„íŒŒíŠ¸)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
API Server 1 @ Private-AZ-A (10.0.11.5)
  â”‚ Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì¤‘
  â”‚ "GET /api/feedbacks ìš”ì²­ì´ ì™”ë„¤?"
  â”‚ "DBì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ê² ë‹¤"
  â†“
MySQL Server @ Private-AZ-A (10.0.11.10)
  â”‚ SELECT * FROM feedbacks;
  â”‚ â†’ ë°ì´í„° ë°˜í™˜
  â†“
API Server 1
  â”‚ JSON ì‘ë‹µ ìƒì„±
  â”‚ { "feedbacks": [...] }
  â†“


4ë‹¨ê³„: ì‘ë‹µ (ì—­ìˆœ)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
API Server 1 â†’ ALB â†’ Internet Gateway â†’ ì‚¬ìš©ì
  â”‚
  â””â†’ Monitoring Server @ Private-AZ-A (10.0.11.20)
       "ì´ ìš”ì²­ ëª¨ë‹ˆí„°ë§ ê¸°ë¡"
       - ì‘ë‹µ ì‹œê°„: 45ms
       - ìƒíƒœ ì½”ë“œ: 200
       - CPU ì‚¬ìš©ë¥ : 30%
```

### ì‹œê°ì  íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì¸í„°ë„· (ì™¸ë¶€)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP Request
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                VPC ê²½ê³„ (ìš¸íƒ€ë¦¬)                        â”‚
â”‚                                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚  Internet Gateway (ì •ë¬¸)                     â”‚   â”‚
â”‚    â”‚  "ë“¤ì–´ì™€ë„ ë˜ëŠ” ìš”ì²­ì¸ì§€ í™•ì¸"                 â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Public Subnet â”€â”€â”€â”€â”  â”‚
â”‚    â”‚                                                â”‚  â”‚
â”‚    â”‚        ğŸšª ALB (ê²½ë¹„ì‹¤)                        â”‚  â”‚
â”‚    â”‚        - Health Check                         â”‚  â”‚
â”‚    â”‚        - Target ì„ íƒ                          â”‚  â”‚
â”‚    â”‚                                                â”‚  â”‚
â”‚    â”‚  [Public-AZ-A]        [Public-AZ-C]          â”‚  â”‚
â”‚    â”‚    (ë¡œë¹„ A)             (ë¡œë¹„ C)              â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Private Subnet â”€â”€â”€â”  â”‚
â”‚    â”‚                                                â”‚  â”‚
â”‚    â”‚   ğŸ  API Server 1   ğŸ  API Server 2          â”‚  â”‚
â”‚    â”‚   (10.0.11.5)       (10.0.11.6)              â”‚  â”‚
â”‚    â”‚          â”‚                                     â”‚  â”‚
â”‚    â”‚          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚  â”‚
â”‚    â”‚                 â†“          â†“                  â”‚  â”‚
â”‚    â”‚         ğŸ’¾ MySQL      ğŸ“¹ Prometheus          â”‚  â”‚
â”‚    â”‚        (10.0.11.10)   (10.0.11.20)          â”‚  â”‚
â”‚    â”‚                                                â”‚  â”‚
â”‚    â”‚            [Private-AZ-A]                     â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© ê° ì»´í¬ë„ŒíŠ¸ì˜ ì—­í•  ìƒì„¸

### 1. Internet Gateway (ì •ë¬¸)
```yaml
ì—­í• :
  - VPCì™€ ì¸í„°ë„·ì„ ì—°ê²°í•˜ëŠ” ìœ ì¼í•œ í†µë¡œ
  - ì–‘ë°©í–¥ í†µì‹  í—ˆìš©

ë¹„ìœ :
  ì•„íŒŒíŠ¸ ë‹¨ì§€ ì •ë¬¸
  - ì™¸ë¶€ ì‚¬ëŒì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ì…êµ¬
  - ì£¼ë¯¼ì´ ì™¸ë¶€ë¡œ ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ì¶œêµ¬

ê¸°ìˆ ì :
  - Public Subnetì—ë§Œ ì—°ê²°ë¨
  - Private Subnetì€ ì§ì ‘ ì—°ê²° ì•ˆë¨
```

### 2. NAT Gateway (ì§ì› ì „ìš© ì¶œêµ¬)
```yaml
ì—­í• :
  - Private Subnetì´ ì¸í„°ë„·ìœ¼ë¡œ ë‚˜ê°€ëŠ” ì „ìš© í†µë¡œ
  - ë‚˜ê°€ê¸°ë§Œ ê°€ëŠ¥ (ë“¤ì–´ì˜¤ê¸° ë¶ˆê°€)

ë¹„ìœ :
  ì•„íŒŒíŠ¸ ì§ì› ì „ìš© ì¶œêµ¬
  - ì£¼ë¯¼(API Server)ì´ ì¥ë³´ëŸ¬ ë‚˜ê°ˆ ìˆ˜ëŠ” ìˆìŒ
  - ì™¸ë¶€ ì‚¬ëŒì€ ì´ ì¶œêµ¬ë¡œ ëª» ë“¤ì–´ì˜´

ì‚¬ìš© ì‚¬ë¡€:
  âœ… API Serverê°€ íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ (yum, apt)
  âœ… MySQL Serverê°€ S3ì— ë°±ì—… ì—…ë¡œë“œ
  âœ… Monitoring Serverê°€ GitHubì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ

  âŒ ì™¸ë¶€ì—ì„œ API Serverë¡œ ì§ì ‘ ì ‘ì† (ë¶ˆê°€!)
```

### 3. ALB (Application Load Balancer)
```yaml
ì—­í• :
  - ìš”ì²­ì„ ì—¬ëŸ¬ ì„œë²„ì— ë¶„ì‚°
  - Health checkë¡œ ì£½ì€ ì„œë²„ ìë™ ì œì™¸
  - ì¼ì¢…ì˜ êµí†µ ì •ë¦¬

ë¹„ìœ :
  ì•„íŒŒíŠ¸ ê²½ë¹„ì‹¤
  - ë°©ë¬¸ê°: "101í˜¸ ê¹€ì”¨ë¥¼ ë§Œë‚˜ëŸ¬ ì™”ì–´ìš”"
  - ê²½ë¹„: "101í˜¸ëŠ” ì§€ê¸ˆ ì—†ìœ¼ë‹ˆ 102í˜¸ë¡œ ì•ˆë‚´í•´ë“œë¦´ê²Œìš”"

ë™ì‘:
  1. ìš”ì²­ ë°›ìŒ
  2. Target Group í™•ì¸
     - Server 1: healthy âœ…
     - Server 2: healthy âœ…
  3. ì•Œê³ ë¦¬ì¦˜ ì„ íƒ (Round Robin)
     - ìš”ì²­ 1 â†’ Server 1
     - ìš”ì²­ 2 â†’ Server 2
     - ìš”ì²­ 3 â†’ Server 1
     - ...

Health Check:
  - 30ì´ˆë§ˆë‹¤ /actuator/health í˜¸ì¶œ
  - 3ë²ˆ ì—°ì† ì‹¤íŒ¨í•˜ë©´ unhealthy
  - Unhealthy ì„œë²„ëŠ” ì œì™¸
```

### 4. Auto Scaling Group (ìë™ ì¦ê°)
```yaml
ì—­í• :
  - íŠ¸ë˜í”½ì— ë”°ë¼ ì„œë²„ ìë™ ì¦ê°€/ê°ì†Œ
  - ì„œë²„ ì£½ìœ¼ë©´ ìë™ êµì²´

ë¹„ìœ :
  ì•„íŒŒíŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ
  - ì…ì£¼ì ë§ì•„ì§€ë©´ ê´€ë¦¬ì¸ ì¶”ê°€ ê³ ìš©
  - ì…ì£¼ì ì¤„ë©´ ê´€ë¦¬ì¸ ê°ì¶•
  - ê´€ë¦¬ì¸ í‡´ì‚¬í•˜ë©´ ìë™ ì¶©ì›

ì„¤ì •:
  Min: 1    (ìµœì†Œ 1ëŒ€ëŠ” í•­ìƒ ì‹¤í–‰)
  Max: 2    (ìµœëŒ€ 2ëŒ€ê¹Œì§€ ì¦ê°€)

  Scaling Policy:
    - CPU > 70% 5ë¶„ ì§€ì† â†’ ì„œë²„ 1ëŒ€ ì¶”ê°€
    - CPU < 30% 10ë¶„ ì§€ì† â†’ ì„œë²„ 1ëŒ€ ì œê±°

ì‹œë‚˜ë¦¬ì˜¤:
  [í‰ìƒì‹œ]
  Server 1 (CPU 30%) âœ…

  [íŠ¸ë˜í”½ í­ì¦]
  Server 1 (CPU 80%) âš ï¸
    â†’ 5ë¶„ ëŒ€ê¸°
    â†’ Server 2 ìë™ ì‹œì‘ ğŸ†•

  Server 1 (CPU 40%) âœ…
  Server 2 (CPU 40%) âœ…
```

### 5. MySQL Server (ë°ì´í„° ì €ì¥ì†Œ)
```yaml
ì—­í• :
  - ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„° ì €ì¥
  - API Serverì˜ ìš”ì²­ì— ì‘ë‹µ

ìœ„ì¹˜:
  Private Subnet @ 10.0.11.10

ì ‘ê·¼ ê°€ëŠ¥:
  âœ… API Servers (10.0.11.*)
  âœ… Monitoring Server (10.0.11.20)
  âŒ ì¸í„°ë„· (ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€!)
  âŒ Public Subnetì—ì„œë„ ëª» ë“¤ì–´ì˜´

íŠ¹ì§•:
  - EC2ì— ì§ì ‘ ì„¤ì¹˜ (RDS ì•„ë‹˜)
  - EBS ë³¼ë¥¨ì— ë°ì´í„° ì €ì¥
  - ë°±ì—…ì€ S3ë¡œ (NAT Gateway í†µí•´)
```

### 6. Monitoring Server (ê°ì‹œì)
```yaml
ì—­í• :
  - ëª¨ë“  ì„œë²„ ìƒíƒœ ëª¨ë‹ˆí„°ë§
  - ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ì‹œê°í™”

êµ¬ì„±:
  - Prometheus: ë°ì´í„° ìˆ˜ì§‘
  - Grafana: ëŒ€ì‹œë³´ë“œ

ìˆ˜ì§‘ ëŒ€ìƒ:
  âœ… API Servers (CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬)
  âœ… MySQL Server (ì—°ê²°, ì¿¼ë¦¬ ìˆ˜)
  âœ… ALB (ìš”ì²­ ìˆ˜, ì‘ë‹µ ì‹œê°„)
  âœ… Application ë©”íŠ¸ë¦­ (ì—ëŸ¬ìœ¨, ì‘ë‹µ ì‹œê°„)

ì ‘ê·¼:
  - SSH Tunnelingìœ¼ë¡œë§Œ ì ‘ê·¼ ê°€ëŠ¥
  - ì™¸ë¶€ì— ë…¸ì¶œ ì•ˆë¨ (ë³´ì•ˆ)
```

---

## ğŸ” ë³´ì•ˆ ì„¤ê³„ (Security Groups)

### ë ˆì´ì–´ë³„ ì ‘ê·¼ ì œì–´

```
ì¸í„°ë„·
  â†“ (80, 443 í—ˆìš©)
ALB
  â†“ (8080 í—ˆìš©)
API Servers
  â†“ (3306 í—ˆìš©)
MySQL
  â†— (9100 í—ˆìš©)
Monitoring
```

### Security Group ìƒì„¸

```yaml
alb-sg (ALB ë³´ì•ˆ ê·¸ë£¹):
  Inbound:
    - 0.0.0.0/0:80    (ì „ ì„¸ê³„ì—ì„œ HTTP í—ˆìš©)
    - 0.0.0.0/0:443   (ì „ ì„¸ê³„ì—ì„œ HTTPS í—ˆìš©)

  Outbound:
    - app-sg:8080     (API Serverë¡œë§Œ ë‚˜ê°)

app-sg (API Server ë³´ì•ˆ ê·¸ë£¹):
  Inbound:
    - alb-sg:8080         (ALBì—ì„œë§Œ ë°›ìŒ)
    - monitoring-sg:9100  (Prometheus ë©”íŠ¸ë¦­)

  Outbound:
    - db-sg:3306      (MySQLë¡œë§Œ)
    - 0.0.0.0/0:443   (ì™¸ë¶€ API í˜¸ì¶œ, íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ)

db-sg (MySQL ë³´ì•ˆ ê·¸ë£¹):
  Inbound:
    - app-sg:3306         (API Serverì—ì„œë§Œ)
    - monitoring-sg:9100  (ëª¨ë‹ˆí„°ë§ë§Œ)

  Outbound:
    - 0.0.0.0/0:443   (S3 ë°±ì—…)

monitoring-sg (Monitoring ë³´ì•ˆ ê·¸ë£¹):
  Inbound:
    - [Your IP]:3000  (Grafana)
    - [Your IP]:9090  (Prometheus)

  Outbound:
    - app-sg:9100     (ë©”íŠ¸ë¦­ ìˆ˜ì§‘)
    - db-sg:9100      (ë©”íŠ¸ë¦­ ìˆ˜ì§‘)
```

**í•µì‹¬**:
- ALBë§Œ ì¸í„°ë„· ë…¸ì¶œ
- APIëŠ” ALBì—ì„œë§Œ ì ‘ê·¼
- MySQLì€ APIì—ì„œë§Œ ì ‘ê·¼
- Monitoringì€ í„°ë„ë§ìœ¼ë¡œë§Œ

---

## ğŸš€ ì‹¤ì œ ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì •ìƒ ìš”ì²­

```
ì‚¬ìš©ì: curl http://my-alb.com/api/feedbacks

1. Internet Gateway
   âœ… "VPCë¡œ ë“¤ì–´ì™€ë„ ë˜ëŠ” ìš”ì²­"

2. ALB @ Public-AZ-A
   âœ… Target Group í™•ì¸
   âœ… Server 1 (healthy), Server 2 (healthy)
   âœ… Round Robin â†’ Server 1 ì„ íƒ

3. API Server 1 @ Private-AZ-A
   âœ… GET /api/feedbacks ì²˜ë¦¬
   âœ… MySQLì— ì¿¼ë¦¬

4. MySQL @ Private-AZ-A
   âœ… SELECT * FROM feedbacks
   âœ… ë°ì´í„° ë°˜í™˜

5. API Server 1
   âœ… JSON ì‘ë‹µ ìƒì„±

6. ALB â†’ Internet Gateway â†’ ì‚¬ìš©ì
   âœ… 200 OK

7. Monitoring
   âœ… ë©”íŠ¸ë¦­ ê¸°ë¡ (ì‘ë‹µì‹œê°„ 45ms)
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì„œë²„ 1ëŒ€ ì£½ìŒ

```
[í˜„ì¬ ìƒíƒœ]
Server 1 (healthy) âœ…
Server 2 (healthy) âœ…

[Server 1 í¬ë˜ì‹œ!]
Server 1 (ì£½ìŒ) ğŸ’€
Server 2 (healthy) âœ…

ALB Health Check:
  - Server 1 í˜¸ì¶œ ì‹¤íŒ¨... ì‹¤íŒ¨... ì‹¤íŒ¨
  - 3ë²ˆ ì—°ì† ì‹¤íŒ¨ â†’ unhealthy

Target Group:
  Server 1 (unhealthy) âŒ ì œì™¸
  Server 2 (healthy) âœ… ì‚¬ìš©

ì‚¬ìš©ì ìš”ì²­:
  â†’ ëª¨ë‘ Server 2ë¡œë§Œ ì „ë‹¬
  âœ… ì„œë¹„ìŠ¤ ê³„ì† ë¨!

Auto Scaling:
  - "ì„œë²„ê°€ 1ëŒ€ë§Œ ë‚¨ì•˜ë„¤?"
  - Min:1, Desired:2
  - â†’ ìƒˆ ì„œë²„ ìë™ ì‹œì‘ ğŸ†•

  5ë¶„ í›„:
  Server 1-new (healthy) âœ…
  Server 2 (healthy) âœ…

  âœ… ì •ìƒ ìƒíƒœë¡œ ë³µêµ¬!
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: íŠ¸ë˜í”½ í­ì¦

```
[í‰ìƒì‹œ]
Server 1 (CPU 30%, ë©”ëª¨ë¦¬ 40%) âœ…

[ê°‘ìê¸° ìš”ì²­ 10ë°° ì¦ê°€!]
Server 1 (CPU 85%, ë©”ëª¨ë¦¬ 70%) âš ï¸

Auto Scaling ê°ì§€:
  - CPU 85% > Target 70%
  - 5ë¶„ ëŒ€ê¸°... (ì¼ì‹œì ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ)
  - ì—¬ì „íˆ 80% ì´ìƒ
  - â†’ Scale Out! ğŸš€

Server 2 ì‹œì‘:
  1. Launch Template ì‚¬ìš©
  2. User Data ì‹¤í–‰ (Docker ì„¤ì¹˜, ì•± ì‹œì‘)
  3. 5ë¶„ í›„ ì¤€ë¹„ ì™„ë£Œ

ALB Health Check:
  - Server 2 í˜¸ì¶œ ì„±ê³µ!
  - â†’ healthy

Target Group:
  Server 1 (healthy) âœ…
  Server 2 (healthy) âœ…

ë¶€í•˜ ë¶„ì‚°:
  Server 1 (CPU 40%) âœ…
  Server 2 (CPU 40%) âœ…

  âœ… ë¶€í•˜ í•´ì†Œ!

[íŠ¸ë˜í”½ ë‹¤ì‹œ ê°ì†Œ]
  10ë¶„ í›„ CPU < 30%
  â†’ Scale In (ì„œë²„ 1ëŒ€ ì œê±°)
```

---

## ğŸ“Š ì™œ ì´ êµ¬ì¡°ê°€ ì¢‹ì€ê°€?

### 1. ê°€ìš©ì„± (High Availability)
```
Single Point of Failure ê°ì†Œ:

í˜„ì¬ êµ¬ì¡° (ë‹¨ì¼ EC2):
  EC2 ì£½ìœ¼ë©´ â†’ ì „ì²´ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ âŒ

ìƒˆ êµ¬ì¡° (ALB + ASG):
  Server 1 ì£½ì–´ë„ â†’ Server 2ê°€ ì²˜ë¦¬ âœ…
  Private-AZ-A ì „ì²´ ë‹¤ìš´ â†’ ALBê°€ ì‚´ì•„ìˆì–´ì„œ ë¹ ë¥¸ ë³µêµ¬
```

### 2. í™•ì¥ì„± (Scalability)
```
íŠ¸ë˜í”½ ì¦ê°€:
  ìˆ˜ë™: ë°¤ìƒ˜ ì‘ì—… âŒ
  ìë™: Auto Scaling âœ…

ì˜ˆì¸¡ ê°€ëŠ¥:
  CPU íŒ¨í„´ ë³´ê³  ë¯¸ë¦¬ ì¡°ì •
```

### 3. ë³´ì•ˆ (Security)
```
ì™¸ë¶€ ê³µê²©:
  í˜„ì¬: EC2 ì§ì ‘ ë…¸ì¶œ (SSH, App ëª¨ë‘)
  ìƒˆë¡œ: ALBë§Œ ë…¸ì¶œ, Private Subnet ì™„ì „ ê²©ë¦¬

ì¹¨í•´ ì‹œ:
  í˜„ì¬: ì „ì²´ ì‹œìŠ¤í…œ ìœ„í—˜
  ìƒˆë¡œ: Subnet ë‹¨ìœ„ ê²©ë¦¬
```

### 4. ìš´ì˜ í¸ì˜ì„±
```
ë°°í¬:
  í˜„ì¬: SSH â†’ Docker pull â†’ ì¬ì‹œì‘
  ìƒˆë¡œ: Instance Refresh (ìë™ ë¡¤ë§)

ëª¨ë‹ˆí„°ë§:
  í˜„ì¬: CloudWatch Logsë§Œ
  ìƒˆë¡œ: Prometheus + Grafana (ìƒì„¸)

ë³µêµ¬:
  í˜„ì¬: ìˆ˜ë™ (10-30ë¶„)
  ìƒˆë¡œ: ìë™ (1-5ë¶„)
```

---

## ğŸ“ ì´ˆê¸‰ì FAQ

### Q: Publicê³¼ Privateì´ í—·ê°ˆë ¤ìš”

```
ê°„ë‹¨ êµ¬ë¶„ë²•:

Public Subnet:
  - ì¸í„°ë„·ê³¼ ì§ì ‘ ëŒ€í™” ê°€ëŠ¥
  - Public IP ê°€ì§
  - ì§‘ ì• (ëˆ„êµ¬ë‚˜ ë³¼ ìˆ˜ ìˆìŒ)

Private Subnet:
  - ì¸í„°ë„·ê³¼ ì§ì ‘ ëŒ€í™” ë¶ˆê°€
  - Private IPë§Œ
  - ì§‘ ì•ˆ (í—ˆë½ë°›ì€ ì‚¬ëŒë§Œ)

ì˜ˆì‹œ:
  ALB (Public): ë°©ë¬¸ê° ë§ì´
  API (Private): ì•ˆë°©, ê±°ì‹¤
```

### Q: NAT Gateway ì—†ìœ¼ë©´ ì•ˆë˜ë‚˜ìš”?

```
ì—†ìœ¼ë©´:
  âŒ Private Subnetì´ yum/apt ì•ˆë¨
  âŒ Docker image pull ì•ˆë¨
  âŒ S3 ì—…ë¡œë“œ ì•ˆë¨

ëŒ€ì•ˆ:
  1. NAT Instance (ì €ë ´í•˜ì§€ë§Œ ê´€ë¦¬ ë¶€ë‹´)
  2. VPC Endpoint (ì¼ë¶€ AWS ì„œë¹„ìŠ¤ë§Œ)
  3. Public Subnet ì‚¬ìš© (ë³´ì•ˆ ì €í•˜)

ê²°ë¡ :
  NAT Gateway ì¶”ì²œ (ë¹„ì‹¸ì§€ë§Œ í¸í•¨)
```

### Q: AZê°€ ë­”ê°€ìš”?

```
AZ (Availability Zone) = ë°ì´í„°ì„¼í„°

ì˜ˆì‹œ:
  ap-northeast-2a: ì„œìš¸ A ë°ì´í„°ì„¼í„°
  ap-northeast-2c: ì„œìš¸ C ë°ì´í„°ì„¼í„°

ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬:
  - ë‹¤ë¥¸ ê±´ë¬¼
  - ë‹¤ë¥¸ ì „ë ¥
  - ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬

ì™œ ì¤‘ìš”:
  A ë°ì´í„°ì„¼í„° ë¶ˆë‚˜ë„
  C ë°ì´í„°ì„¼í„°ëŠ” ì•ˆì „
```

### Q: Security Groupì´ ë°©í™”ë²½ì¸ê°€ìš”?

```
ë„¤, ë§ìŠµë‹ˆë‹¤!

ë¹„ìœ :
  ì•„íŒŒíŠ¸ ê²½ë¹„ì›
  - í—ˆê°€ì¦ ìˆëŠ” ì‚¬ëŒë§Œ í†µê³¼
  - ë‚˜ê°ˆ ë•Œë„ í™•ì¸

ê¸°ìˆ ì :
  - Stateful (ë‚˜ê°„ ìš”ì²­ì˜ ì‘ë‹µì€ ìë™ í—ˆìš©)
  - Instance ë ˆë²¨ ë°©í™”ë²½
  - IP + Port ê¸°ë°˜ ì œì–´
```

---

## ğŸ¯ í•µì‹¬ ì •ë¦¬

### ì „ì²´ íë¦„ (í•œ ì¤„)
```
ì¸í„°ë„· â†’ IGW â†’ ALB(Public) â†’ API(Private) â†’ MySQL(Private)
                                    â†“
                            Monitoring(Private)
```

### 3ê°œ Subnet ì´ìœ 
```
Public Ã— 2: ALBëŠ” 2ê°œ AZ í•„ìˆ˜ (AWS ê·œì¹™)
Private Ã— 1: 15ì‹œê°„ì— êµ¬ì¶•í•˜ê¸° ìœ„í•œ ê°„ì†Œí™”
```

### ê° ì—­í• 
```
Public:  ALB (ê²½ë¹„ì‹¤)
Private: API + MySQL + Monitoring (ê±°ì£¼ ê³µê°„)
```

### ì™œ ì¢‹ì€ê°€
```
âœ… ê°€ìš©ì„±: ì„œë²„ ì£½ì–´ë„ ê³„ì† ë™ì‘
âœ… í™•ì¥ì„±: íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ìë™ ì¦ì„¤
âœ… ë³´ì•ˆ: Private Subnet ê²©ë¦¬
âœ… ëª¨ë‹ˆí„°ë§: Prometheus + Grafana
```

---

**ì´ì œ ì´í•´ë˜ì…¨ë‚˜ìš”? ì§ˆë¬¸ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€!** ğŸš€
